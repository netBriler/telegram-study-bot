from telebot.types import Message

from ...loader import bot
from ...base import base

from app.models import User


@bot.message_handler(regexp='^üÜò–ü–æ–º–æ—â—åüÜò$')
@bot.message_handler(commands=['help'])
@base()
def help_handler(message: Message, current_user: User):
    text = """    
üÜò –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è üÜò

/info - –£–∑–Ω–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
/schedule - –£–∑–Ω–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
/homework - –£–∑–Ω–∞—Ç—å –î–ó

/help - –ü–æ–º–æ—â—å –ø–æ –±–æ—Ç—É
/keyboard - –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
/keyboard_off - –û—Ç–∫–ª—é—á–∏—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É
"""
    if current_user.is_admin():
        text += """
üëë –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ üëë

<i>–î–ó –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ –±—ã—Å—Ç—Ä–æ–º—É —à–∞–±–ª–æ–Ω—É</i>
<pre>!–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞ - –∑–∞–¥–∞–Ω–∏–µ</pre>

/add - –î–æ–±–∞–≤–∏—Ç—å –î–ó
/edit - –ò–∑–º–µ–Ω–∏—Ç—å –î–ó

/get_id - –ü–æ–ª—É—á–∏—Ç—å id —Å–æ–æ–±—â–µ–Ω–∏—è (id –ø—Ä–∏–π–¥–µ—Ç –≤ –ª–∏—á–∫—É)
/get_file_id - –ü–æ–ª—É—á–∏—Ç—å id —Ñ–∞–π–ª–∞
/delete - –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞
/call_all - –ü–æ–∑–≤–∞—Ç—å –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –≥—Ä—É–ø–ø—ã
"""

    text += """
–°–æ–∑–¥–∞—Ç–µ–ª—å @briler
"""

    bot.send_message(message.chat.id, text)

